
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="UTF-8"/>
		<title>Insert title here</title>
		<link rel="stylesheet" type="text/css" th:href="@{/css/style.css}"/>
	</head>
<body>
<header>
   <div class="logo">
	   <h1><img alt="" src="/images/logo.png" id="logo"></h1>
   </div>
    <nav id="l">
       <div id="men">
        <span><a th:href="@{eleve}">GESTION PRODUITS</a></span>
        <div id="sous">
          <span>  <a th:href="@{voiture}">AJOUTER PRODUITS</a></span>
        </div>
        <div id="sous">
          <span>  <a th:href="@{rechercheVoiture}">RECHERCHE PRODUITS</a></span>
        </div>
      </div>
     <div id="men">
        <span><a>Gestion Vendeur</a></span>
        <div id="sous">
          <span>  <a th:href="@{vendeur}">AJOUTER</a></span>
        </div>
        <div id="sous">
          <span>  <a th:href="@{rechercherVendeur}">Recherche</a></span>
        </div>
      </div> 
       <div id="men">
        <span><a href="">Gestion Model</a></span>
        <div id="sous">
          <span>  <a th:href="@{model}">AJOUTER</a></span>
        </div>
      </div>  
       
   </nav>
 </header>
 <div class="form">
 <fieldset>
    <form method="post" th:action="@{AjouterVoiture}" id="myform" enctype="multipart/form-data">
    <h1>Enregistre annonce et une voiture</h1>
    <hr/>
        <table>
            <tr>
                <td>Matricule</td> <td><input type="text" name="matricule" id="matricule">  <br> <span id="erreur"></span><br> </td>
            </tr>
              <tr>
                <td>Type Moteur</td> <td><input type="text" name="moteur" id="prenom"><br><span id="erreurPrenom"></span><br></td>
            </tr>
             <tr>
                <td>Description</td> <td> <textarea rows="" name="description" cols=""></textarea> <br><span id="erreurPrenom"></span><br></td>
            </tr>
              <tr>
                <td>Prix</td> <td><input type="text" name="prix" id="prenom"><br><span id="erreurPrenom"></span><br></td>
            </tr>
            <tr>
                <td>Model</td> <td>
				  <select class="sexe" name="modele">
					 <option th:each="p:${mode}" th:text="${p.model}"></option>
				  </select>
					<br><br></td>
            </tr>
            <tr>
                <td>Proprietaire</td> <td>
				  <select class="sexe" name="vendeur">
					  <option th:each="p:${vendeur}" th:text="${p.nom}"></option>
				  </select>
					<br><br></td>
            </tr>
             <tr>
                <td>Image Voiture</td> <td><input type="file" name="image" id="prenom"><br><span id="erreurPrenom"></span><br></td>
            </tr>
             <tr>
                <td colspan="2"><input type="submit" value="Enregistrer" id="submit"/></td>
            </tr>
        </table>
    </form>
   </div>
 </fieldset> 
<div class="prof">
<div>
	  <h1>Les annonces</h1>
    <hr>
    <div class="liste">
	  <table class="tab">
			<tr>
                <td>Matricule </td> <td>image </td><td>Type Moteur</td><td>Description </td><td>Prix</td> <td>Model</td><td>Vendeur</td> <td class="modif">Modifier </td>  <td class="supp">Supprimer</td>
            </tr>
            <tr th:each="p:${annonce}">
                <td th:text="${p.idVoiture.matricule}"></td> 
				<td>
				  <img alt="" th:src="@{'img/'+${p.idVoiture.imageVoiture}}" width="100px" height="100px">
				</td>
				
				<td th:text="${p.idVoiture.typeMoteur}"></td> 
				<td th:text="${p.description}"></td>
				<td th:text="${p.prix}"></td>
				<td th:text="${p.idVoiture.model.model}"></td>
				<td th:text="${p.idVendeur.nom}"></td>
				<td class="modif"> <a th:href="@{modifierVoiture?(id=${p.id})}">Modifier</a></td>
				<td class="supp"> <a onclick="return confirm('Etes vous sure de vouloir supprimer')" th:href="@{supprimerVoiture?(id=${p.id})}"> Supprimer </a></td>
			</tr>
	</table>
	</div>
 </div>
</div>
<footer>
  <center>
	 <h1>Contact Nous </h1>
     <hr>
		<h4>Adesse du Proviseur : 565757884884884</h4> 
		<h4>Adesse du Directeur : 565757884884884</h4> 
	</center>
</footer>
<script>
   let form = document.getElementById("myform");
   form.addEventListener("submit", function(e){
	   let matricule = document.getElementById("matricule");
	   let nom = document.getElementById("nom");
	   let prenom = document.getElementById("prenom");
	   let numero = document.getElementById("numero");
	   let date = document.getElementById("date");
	   let form = document.getElementById("myform");
	   if(matricule.value==""){
		   e.preventDefault()
		   let erreur = document.getElementById("erreur");
		   erreur.innerHTML="vous avez laissez champs vide";
		   erreur.style.color="red";
	   }
	   if(nom.value==""){
		   e.preventDefault()
		   let erreur = document.getElementById("erreurNom");
		   erreur.innerHTML="vous avez laissez champs vide";
		   erreur.style.color="red";
	   }
	   if(prenom.value==""){
		   e.preventDefault()
		   let erreur = document.getElementById("erreurPrenom");
		   erreur.innerHTML="vous avez laissez champs vide";
		   erreur.style.color="red";
	   }
	   if(numero.value==""){
		   e.preventDefault()
		   let erreur = document.getElementById("erreurNumero");
		   erreur.innerHTML="vous avez laissez champs vide";
		   erreur.style.color="red";
	   }
	   if(date.value==""){
		   e.preventDefault()
		   let erreur = document.getElementById("erreurDate");
		   erreur.innerHTML="vous avez laissez champs vide";
		   erreur.style.color="red";
	   }
   })
</script>

</body>
</html>